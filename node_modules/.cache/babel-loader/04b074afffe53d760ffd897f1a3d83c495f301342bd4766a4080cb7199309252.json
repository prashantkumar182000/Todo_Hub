{"ast":null,"code":"import React,{useState}from\"react\";import{useSelector}from\"react-redux\";import TaskModal from\"../modals/TaskModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Task(_ref){let{colIndex,taskIndex}=_ref;const boards=useSelector(state=>state.boards);const board=boards.find(board=>board.isActive===true);const columns=board.columns;const col=columns.find((col,i)=>i===colIndex);const task=col.tasks.find((task,i)=>i===taskIndex);const[isTaskModalOpen,setIsTaskModalOpen]=useState(false);let completed=0;let subtasks=task.subtasks;subtasks.forEach(subtask=>{if(subtask.isCompleted){completed++;}});const handleOnDrag=e=>{e.dataTransfer.setData(\"text\",JSON.stringify({taskIndex,prevColIndex:colIndex}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>{setIsTaskModalOpen(true);},draggable:true,onDragStart:handleOnDrag,className:\" w-[280px] first:my-5 rounded-lg  bg-white  dark:bg-[#2b2c37] shadow-[#364e7e1a] py-6 px-3 shadow-lg hover:text-[#635fc7] dark:text-white dark:hover:text-[#635fc7] cursor-pointer \",children:[/*#__PURE__*/_jsx(\"p\",{className:\" font-bold tracking-wide \",children:task.title}),/*#__PURE__*/_jsxs(\"p\",{className:\" font-bold text-xs tracking-tighter mt-2 text-gray-500\",children:[completed,\" of \",subtasks.length,\" completed tasks\"]})]}),isTaskModalOpen&&/*#__PURE__*/_jsx(TaskModal,{colIndex:colIndex,taskIndex:taskIndex,setIsTaskModalOpen:setIsTaskModalOpen})]});}export default Task;","map":{"version":3,"names":["React","useState","useSelector","TaskModal","jsx","_jsx","jsxs","_jsxs","Task","_ref","colIndex","taskIndex","boards","state","board","find","isActive","columns","col","i","task","tasks","isTaskModalOpen","setIsTaskModalOpen","completed","subtasks","forEach","subtask","isCompleted","handleOnDrag","e","dataTransfer","setData","JSON","stringify","prevColIndex","children","onClick","draggable","onDragStart","className","title","length"],"sources":["/home/user/React/Todo-Hub/src/components/Task.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport TaskModal from \"../modals/TaskModal\";\n\nfunction Task({ colIndex, taskIndex }) {\n  const boards = useSelector((state) => state.boards);\n  const board = boards.find((board) => board.isActive === true);\n  const columns = board.columns;\n  const col = columns.find((col, i) => i === colIndex);\n  const task = col.tasks.find((task, i) => i === taskIndex);\n  const [isTaskModalOpen, setIsTaskModalOpen] = useState(false);\n\n  let completed = 0;\n  let subtasks = task.subtasks;\n  subtasks.forEach((subtask) => {\n    if (subtask.isCompleted) {\n      completed++;\n    }\n  });\n\n  const handleOnDrag = (e) => {\n    e.dataTransfer.setData(\n      \"text\",\n      JSON.stringify({ taskIndex, prevColIndex: colIndex })\n    );\n  };\n\n  return (\n    <div>\n      <div\n        onClick={() => {\n          setIsTaskModalOpen(true);\n        }}\n        draggable\n        onDragStart={handleOnDrag}\n        className=\" w-[280px] first:my-5 rounded-lg  bg-white  dark:bg-[#2b2c37] shadow-[#364e7e1a] py-6 px-3 shadow-lg hover:text-[#635fc7] dark:text-white dark:hover:text-[#635fc7] cursor-pointer \"\n      >\n        <p className=\" font-bold tracking-wide \">{task.title}</p>\n        <p className=\" font-bold text-xs tracking-tighter mt-2 text-gray-500\">\n          {completed} of {subtasks.length} completed tasks\n        </p>\n      </div>\n      {isTaskModalOpen && (\n        <TaskModal\n          colIndex={colIndex}\n          taskIndex={taskIndex}\n          setIsTaskModalOpen={setIsTaskModalOpen}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Task;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,SAAS,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAA0B,IAAzB,CAAEC,QAAQ,CAAEC,SAAU,CAAC,CAAAF,IAAA,CACnC,KAAM,CAAAG,MAAM,CAAGV,WAAW,CAAEW,KAAK,EAAKA,KAAK,CAACD,MAAM,CAAC,CACnD,KAAM,CAAAE,KAAK,CAAGF,MAAM,CAACG,IAAI,CAAED,KAAK,EAAKA,KAAK,CAACE,QAAQ,GAAK,IAAI,CAAC,CAC7D,KAAM,CAAAC,OAAO,CAAGH,KAAK,CAACG,OAAO,CAC7B,KAAM,CAAAC,GAAG,CAAGD,OAAO,CAACF,IAAI,CAAC,CAACG,GAAG,CAAEC,CAAC,GAAKA,CAAC,GAAKT,QAAQ,CAAC,CACpD,KAAM,CAAAU,IAAI,CAAGF,GAAG,CAACG,KAAK,CAACN,IAAI,CAAC,CAACK,IAAI,CAAED,CAAC,GAAKA,CAAC,GAAKR,SAAS,CAAC,CACzD,KAAM,CAACW,eAAe,CAAEC,kBAAkB,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAE7D,GAAI,CAAAuB,SAAS,CAAG,CAAC,CACjB,GAAI,CAAAC,QAAQ,CAAGL,IAAI,CAACK,QAAQ,CAC5BA,QAAQ,CAACC,OAAO,CAAEC,OAAO,EAAK,CAC5B,GAAIA,OAAO,CAACC,WAAW,CAAE,CACvBJ,SAAS,EAAE,CACb,CACF,CAAC,CAAC,CAEF,KAAM,CAAAK,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,YAAY,CAACC,OAAO,CACpB,MAAM,CACNC,IAAI,CAACC,SAAS,CAAC,CAAEvB,SAAS,CAAEwB,YAAY,CAAEzB,QAAS,CAAC,CAAC,CACtD,CACH,CAAC,CAED,mBACEH,KAAA,QAAA6B,QAAA,eACE7B,KAAA,QACE8B,OAAO,CAAEA,CAAA,GAAM,CACbd,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAE,CACFe,SAAS,MACTC,WAAW,CAAEV,YAAa,CAC1BW,SAAS,CAAC,qLAAqL,CAAAJ,QAAA,eAE/L/B,IAAA,MAAGmC,SAAS,CAAC,2BAA2B,CAAAJ,QAAA,CAAEhB,IAAI,CAACqB,KAAK,EAAK,cACzDlC,KAAA,MAAGiC,SAAS,CAAC,wDAAwD,CAAAJ,QAAA,EAClEZ,SAAS,CAAC,MAAI,CAACC,QAAQ,CAACiB,MAAM,CAAC,kBAClC,GAAI,GACA,CACLpB,eAAe,eACdjB,IAAA,CAACF,SAAS,EACRO,QAAQ,CAAEA,QAAS,CACnBC,SAAS,CAAEA,SAAU,CACrBY,kBAAkB,CAAEA,kBAAmB,EAE1C,GACG,CAEV,CAEA,cAAe,CAAAf,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}