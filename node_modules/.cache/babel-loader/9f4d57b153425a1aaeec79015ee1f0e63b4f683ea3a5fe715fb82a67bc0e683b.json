{"ast":null,"code":"import React,{useState}from\"react\";import crossIcon from\"../assets/icon-cross.svg\";import boardsSlice from\"../redux/boardsSlice\";import{v4 as uuidv4}from\"uuid\";import{useDispatch,useSelector}from\"react-redux\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function AddEditBoardModal(_ref){let{setIsBoardModalOpen,type}=_ref;const dispatch=useDispatch();const[isFirstLoad,setIsFirstLoad]=useState(true);const[name,setName]=useState(\"\");const[newColumns,setNewColumns]=useState([{name:\"Todo\",tasks:[],id:uuidv4()},{name:\"Doing\",tasks:[],id:uuidv4()}]);const[isValid,setIsValid]=useState(true);const board=useSelector(state=>state.boards).find(board=>board.isActive);if(type===\"edit\"&&isFirstLoad){setNewColumns(board.columns.map(col=>{return{...col,id:uuidv4()};}));setName(board.name);setIsFirstLoad(false);}const validate=()=>{setIsValid(false);if(!name.trim()){return false;}for(let i=0;i<newColumns.length;i++){if(!newColumns[i].name.trim()){return false;}}setIsValid(true);return true;};const onChange=(id,newValue)=>{setNewColumns(prevState=>{const newState=[...prevState];const column=newState.find(col=>col.id===id);column.name=newValue;return newState;});};const onDelete=id=>{setNewColumns(prevState=>prevState.filter(el=>el.id!==id));};const onSubmit=type=>{setIsBoardModalOpen(false);if(type===\"add\"){dispatch(boardsSlice.actions.addBoard({name,newColumns}));}else{dispatch(boardsSlice.actions.editBoard({name,newColumns}));}};return/*#__PURE__*/_jsx(\"div\",{className:\"  fixed right-0 top-0 px-2 py-4 overflow-scroll scrollbar-hide  z-50 left-0 bottom-0 justify-center items-center flex dropdown \",onClick:e=>{if(e.target!==e.currentTarget){return;}setIsBoardModalOpen(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\" scrollbar-hide overflow-y-scroll max-h-[95vh]  bg-white dark:bg-[#2b2c37] text-black dark:text-white font-bold shadow-md shadow-[#364e7e1a] max-w-md mx-auto my-auto w-full px-8  py-8 rounded-xl\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\" text-lg \",children:[type===\"edit\"?\"Edit\":\"Add New\",\" Board\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 flex flex-col space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"  text-sm dark:text-white text-gray-500\",children:\"Board Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\" bg-transparent  px-4 py-2 rounded-md text-sm  border-[0.5px] border-gray-600 focus:outline-[#635fc7] outline-1  ring-0  \",placeholder:\" e.g Web Design\",value:name,onChange:e=>setName(e.target.value),id:\"board-name-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 flex flex-col space-y-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\" text-sm dark:text-white text-gray-500\",children:\"Board Columns\"}),newColumns.map((column,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\" flex items-center w-full \",children:[/*#__PURE__*/_jsx(\"input\",{className:\" bg-transparent flex-grow px-4 py-2 rounded-md text-sm  border-[0.5px] border-gray-600 focus:outline-[#635fc7] outline-[1px]  \",onChange:e=>{onChange(column.id,e.target.value);},type:\"text\",value:column.name}),/*#__PURE__*/_jsx(\"img\",{src:crossIcon,onClick:()=>{onDelete(column.id);},className:\" m-4 cursor-pointer \"})]},index)),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\" w-full items-center hover:opacity-70 dark:text-[#635fc7] dark:bg-white  text-white bg-[#635fc7] py-2 rounded-full \",onClick:()=>{setNewColumns(state=>[...state,{name:\"\",tasks:[],id:uuidv4()}]);},children:\"+ Add New Column\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const isValid=validate();if(isValid===true)onSubmit(type);},className:\" w-full items-center hover:opacity-70 dark:text-white dark:bg-[#635fc7] mt-8 relative  text-white bg-[#635fc7] py-2 rounded-full\",children:type===\"add\"?\"Create New Board\":\"Save Changes\"})]})]})]})});}export default AddEditBoardModal;","map":{"version":3,"names":["React","useState","crossIcon","boardsSlice","v4","uuidv4","useDispatch","useSelector","jsxs","_jsxs","jsx","_jsx","AddEditBoardModal","_ref","setIsBoardModalOpen","type","dispatch","isFirstLoad","setIsFirstLoad","name","setName","newColumns","setNewColumns","tasks","id","isValid","setIsValid","board","state","boards","find","isActive","columns","map","col","validate","trim","i","length","onChange","newValue","prevState","newState","column","onDelete","filter","el","onSubmit","actions","addBoard","editBoard","className","onClick","e","target","currentTarget","children","placeholder","value","index","src"],"sources":["/home/user/React/Todo-Hub/src/modals/AddEditBoardModal.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport crossIcon from \"../assets/icon-cross.svg\";\nimport boardsSlice from \"../redux/boardsSlice\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nfunction AddEditBoardModal({ setIsBoardModalOpen, type , }) {\n  const dispatch = useDispatch();\n  const [isFirstLoad, setIsFirstLoad] = useState(true);\n  const [name, setName] = useState(\"\");\n  const [newColumns, setNewColumns] = useState([\n    { name: \"Todo\", tasks: [], id: uuidv4() },\n    { name: \"Doing\", tasks: [], id: uuidv4() },\n  ]);\n  const [isValid, setIsValid] = useState(true);\n  const board = useSelector((state) => state.boards).find(\n    (board) => board.isActive\n  );\n\n  if (type === \"edit\" && isFirstLoad) {\n    setNewColumns(\n      board.columns.map((col) => {\n        return { ...col, id: uuidv4() };\n      })\n    );\n    setName(board.name);\n    setIsFirstLoad(false);\n  }\n\n  const validate = () => {\n    setIsValid(false);\n    if (!name.trim()) {\n      return false;\n    }\n    for (let i = 0 ; i < newColumns.length ; i++) {\n      if (!newColumns[i].name.trim()) {\n        return false;\n      }\n    }\n    setIsValid(true);\n    return true;\n  };\n\n  const onChange = (id, newValue) => {\n    setNewColumns((prevState) => {\n      const newState = [...prevState];\n      const column = newState.find((col) => col.id === id);\n      column.name = newValue;\n      return newState;\n    });\n  };\n\n  const onDelete = (id) => {\n    setNewColumns((prevState) => prevState.filter((el) => el.id !== id));\n  };\n\n  const onSubmit = (type) => {\n    setIsBoardModalOpen(false);\n    if (type === \"add\") {\n      dispatch(boardsSlice.actions.addBoard({ name, newColumns }));\n    } else {\n      dispatch(boardsSlice.actions.editBoard({ name, newColumns }));\n    }\n  };\n\n  return (\n    <div\n      className=\"  fixed right-0 top-0 px-2 py-4 overflow-scroll scrollbar-hide  z-50 left-0 bottom-0 justify-center items-center flex dropdown \"\n      onClick={(e) => {\n        if (e.target !== e.currentTarget) {\n          return;\n        }\n        setIsBoardModalOpen(false);\n      }}\n    >\n      <div\n        className=\" scrollbar-hide overflow-y-scroll max-h-[95vh]  bg-white dark:bg-[#2b2c37] text-black dark:text-white font-bold\n       shadow-md shadow-[#364e7e1a] max-w-md mx-auto my-auto w-full px-8  py-8 rounded-xl\"\n      >\n        <h3 className=\" text-lg \">\n          {type === \"edit\" ? \"Edit\" : \"Add New\"} Board\n        </h3>\n\n        {/* Task Name */}\n\n        <div className=\"mt-8 flex flex-col space-y-1\">\n          <label className=\"  text-sm dark:text-white text-gray-500\">\n            Board Name\n          </label>\n          <input\n            className=\" bg-transparent  px-4 py-2 rounded-md text-sm  border-[0.5px] border-gray-600 focus:outline-[#635fc7] outline-1  ring-0  \"\n            placeholder=\" e.g Web Design\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            id=\"board-name-input\"\n          />\n        </div>\n\n        {/* Board Columns */}\n\n        <div className=\"mt-8 flex flex-col space-y-3\">\n          <label className=\" text-sm dark:text-white text-gray-500\">\n            Board Columns\n          </label>\n\n          {newColumns.map((column, index) => (\n            <div key={index} className=\" flex items-center w-full \">\n              <input\n                className=\" bg-transparent flex-grow px-4 py-2 rounded-md text-sm  border-[0.5px] border-gray-600 focus:outline-[#635fc7] outline-[1px]  \"\n                onChange={(e) => {\n                  onChange(column.id, e.target.value);\n                }}\n                type=\"text\"\n                value={column.name}\n              />\n              <img\n                src={crossIcon}\n                onClick={() => {\n                  onDelete(column.id);\n                }}\n                className=\" m-4 cursor-pointer \"\n              />\n            </div>\n          ))}\n          <div>\n            <button\n              className=\" w-full items-center hover:opacity-70 dark:text-[#635fc7] dark:bg-white  text-white bg-[#635fc7] py-2 rounded-full \"\n              onClick={() => {\n                setNewColumns((state) => [\n                  ...state,\n                  { name: \"\", tasks: [], id: uuidv4() },\n                ]);\n              }}\n            >\n              + Add New Column\n            </button>\n            <button\n              onClick={() => {\n                const isValid = validate();\n                if (isValid === true) onSubmit(type);\n              }}\n              className=\" w-full items-center hover:opacity-70 dark:text-white dark:bg-[#635fc7] mt-8 relative  text-white bg-[#635fc7] py-2 rounded-full\"\n            >\n              {type === \"add\" ? \"Create New Board\" : \"Save Changes\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AddEditBoardModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}